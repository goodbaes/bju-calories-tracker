{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{initializeApp}from'firebase/app';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'firebase/auth';import{getFirestore,doc,getDoc,setDoc,collection,query,where,onSnapshot,addDoc,deleteDoc}from'firebase/firestore';import{ChevronLeft,ChevronRight,Plus,Settings,Trash2,Save,ChevronDown,Copy}from'lucide-react';// --- НАСТРОЙКИ FIREBASE ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig=typeof __firebase_config!=='undefined'?JSON.parse(__firebase_config):{};const appId=typeof __app_id!=='undefined'?__app_id:'default-bju-app';const initialAuthToken=typeof __initial_auth_token!=='undefined'?__initial_auth_token:null;// --- ИНИЦИАЛИЗАЦИЯ FIREBASE ---\nconst app=initializeApp(firebaseConfig);const auth=getAuth(app);const db=getFirestore(app);// --- ОСНОВНОЙ КОМПОНЕНТ ПРИЛОЖЕНИЯ ---\nexport default function App(){const[page,setPage]=useState('main');// 'main', 'add', 'settings'\nconst[userId,setUserId]=useState(null);const[isAuthReady,setIsAuthReady]=useState(false);const[selectedDate,setSelectedDate]=useState(new Date());useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,async user=>{if(user){setUserId(user.uid);setIsAuthReady(true);}else{try{if(initialAuthToken){await signInWithCustomToken(auth,initialAuthToken);}else{await signInAnonymously(auth);}}catch(error){console.error(\"Ошибка входа:\",error);}}});return()=>unsubscribe();},[]);const navigate=pageName=>setPage(pageName);if(!isAuthReady){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-gray-900 text-white\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 min-h-screen text-white font-sans\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto max-w-lg p-4 pb-24\",children:[page==='main'&&/*#__PURE__*/_jsx(MainPage,{navigate:navigate,userId:userId,selectedDate:selectedDate,setSelectedDate:setSelectedDate}),page==='add'&&/*#__PURE__*/_jsx(AddFoodPage,{navigate:navigate,userId:userId,selectedDate:selectedDate}),page==='settings'&&/*#__PURE__*/_jsx(SettingsPage,{navigate:navigate,userId:userId})]})});}// --- КОМПОНЕНТ КАЛЕНДАРЯ ---\nfunction Calendar(_ref){let{selectedDate,onDateChange}=_ref;const[currentMonth,setCurrentMonth]=useState(new Date(selectedDate.getFullYear(),selectedDate.getMonth(),1));const changeMonth=amount=>{setCurrentMonth(prev=>new Date(prev.getFullYear(),prev.getMonth()+amount,1));};const daysInMonth=new Date(currentMonth.getFullYear(),currentMonth.getMonth()+1,0).getDate();const firstDayOfMonth=new Date(currentMonth.getFullYear(),currentMonth.getMonth(),1).getDay();const days=Array.from({length:daysInMonth},(_,i)=>i+1);const emptyDays=Array.from({length:firstDayOfMonth===0?6:firstDayOfMonth-1});const today=new Date();today.setHours(0,0,0,0);const monthName=currentMonth.toLocaleString('ru-RU',{month:'long',year:'numeric'});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeMonth(-1),className:\"p-2 rounded-full hover:bg-gray-700\",children:/*#__PURE__*/_jsx(ChevronLeft,{})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg capitalize\",children:monthName}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeMonth(1),className:\"p-2 rounded-full hover:bg-gray-700\",children:/*#__PURE__*/_jsx(ChevronRight,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-1 text-center text-sm\",children:[['Пн','Вт','Ср','Чт','Пт','Сб','Вс'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-400\",children:day},day)),emptyDays.map((_,i)=>/*#__PURE__*/_jsx(\"div\",{},`empty-${i}`)),days.map(day=>{const date=new Date(currentMonth.getFullYear(),currentMonth.getMonth(),day);const isSelected=selectedDate.getTime()===date.getTime();const isToday=today.getTime()===date.getTime();let dayClass=\"w-9 h-9 flex items-center justify-center rounded-full cursor-pointer transition-colors \";if(isSelected){dayClass+=\"bg-cyan-500 text-white font-bold\";}else if(isToday){dayClass+=\"bg-gray-700 text-cyan-400\";}else{dayClass+=\"hover:bg-gray-700\";}return/*#__PURE__*/_jsx(\"div\",{className:dayClass,onClick:()=>onDateChange(date),children:day},day);})]})]});}// --- КОМПОНЕНТ ГЛАВНОЙ СТРАНИЦЫ ---\nfunction MainPage(_ref2){let{navigate,userId,selectedDate,setSelectedDate}=_ref2;const[goals,setGoals]=useState({proteins:200,fats:80,carbs:300,calories:2720});const[foods,setFoods]=useState([]);const[isCalendarOpen,setIsCalendarOpen]=useState(false);const selectedDateString=selectedDate.toISOString().split('T')[0];useEffect(()=>{if(!userId)return;const goalsDocRef=doc(db,`artifacts/${appId}/users/${userId}/settings`,'dailyGoals');const unsubscribeGoals=onSnapshot(goalsDocRef,docSnap=>{if(docSnap.exists()){setGoals(docSnap.data());}});const foodsCollectionRef=collection(db,`artifacts/${appId}/users/${userId}/foods`);const q=query(foodsCollectionRef,where(\"date\",\"==\",selectedDateString));const unsubscribeFoods=onSnapshot(q,querySnapshot=>{const foodsData=querySnapshot.docs.map(doc=>{var _data$createdAt;const data=doc.data();return{id:doc.id,...data,// Конвертируем временную метку Firestore в объект Date\ncreatedAt:(_data$createdAt=data.createdAt)!==null&&_data$createdAt!==void 0&&_data$createdAt.toDate?data.createdAt.toDate():new Date(0)};});// Сортируем по дате создания в обратном порядке (новые сверху)\nfoodsData.sort((a,b)=>b.createdAt.getTime()-a.createdAt.getTime());setFoods(foodsData);});return()=>{unsubscribeGoals();unsubscribeFoods();};},[userId,selectedDateString]);const totals=foods.reduce((acc,food)=>{acc.proteins+=food.proteins;acc.fats+=food.fats;acc.carbs+=food.carbs;acc.calories+=food.calories;return acc;},{proteins:0,fats:0,carbs:0,calories:0});const deleteFood=async foodId=>{if(!userId)return;try{await deleteDoc(doc(db,`artifacts/${appId}/users/${userId}/foods`,foodId));}catch(error){console.error(\"Ошибка удаления:\",error);}};const repeatFood=async foodToRepeat=>{if(!userId)return;const newFoodEntry={name:foodToRepeat.name,grams:foodToRepeat.grams,proteins:foodToRepeat.proteins,fats:foodToRepeat.fats,carbs:foodToRepeat.carbs,calories:foodToRepeat.calories,date:new Date().toISOString().split('T')[0],// Всегда добавляем на сегодня\ncreatedAt:new Date()// Добавляем временную метку\n};try{await addDoc(collection(db,`artifacts/${appId}/users/${userId}/foods`),newFoodEntry);}catch(error){console.error(\"Ошибка повторения записи:\",error);}};const handleDateChange=date=>{setSelectedDate(new Date(date.setHours(0,0,0,0)));setIsCalendarOpen(false);};const titleDate=selectedDate.toLocaleDateString('ru-RU',{day:'numeric',month:'long',year:'numeric'});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsCalendarOpen(!isCalendarOpen),className:\"flex items-center gap-2 text-xl md:text-2xl font-bold text-cyan-400 hover:text-cyan-300 transition-colors text-left\",children:[/*#__PURE__*/_jsx(\"span\",{children:titleDate}),/*#__PURE__*/_jsx(ChevronDown,{className:`w-6 h-6 transition-transform ${isCalendarOpen?'rotate-180':''}`})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('settings'),className:\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-6 h-6\"})})]}),isCalendarOpen&&/*#__PURE__*/_jsx(Calendar,{selectedDate:selectedDate,onDateChange:handleDateChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\",children:[/*#__PURE__*/_jsx(StatCard,{label:\"\\u041A\\u0430\\u043B\\u043E\\u0440\\u0438\\u0438\",value:totals.calories.toFixed(0),goal:goals.calories,unit:\"\\u043A\\u043A\\u0430\\u043B\",color:\"text-yellow-400\"}),/*#__PURE__*/_jsx(StatCard,{label:\"\\u0411\\u0435\\u043B\\u043A\\u0438\",value:totals.proteins.toFixed(0),goal:goals.proteins,unit:\"\\u0433\",color:\"text-red-400\"}),/*#__PURE__*/_jsx(StatCard,{label:\"\\u0416\\u0438\\u0440\\u044B\",value:totals.fats.toFixed(0),goal:goals.fats,unit:\"\\u0433\",color:\"text-green-400\"}),/*#__PURE__*/_jsx(StatCard,{label:\"\\u0423\\u0433\\u043B\\u0435\\u0432\\u043E\\u0434\\u044B\",value:totals.carbs.toFixed(0),goal:goals.carbs,unit:\"\\u0433\",color:\"text-blue-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"\\u041F\\u0440\\u0438\\u0435\\u043C\\u044B \\u043F\\u0438\\u0449\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:foods.length>0?foods.map(food=>/*#__PURE__*/_jsx(FoodItem,{food:food,onDelete:()=>deleteFood(food.id),onRepeat:()=>repeatFood(food)},food.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center py-8\",children:\"\\u041D\\u0435\\u0442 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439 \\u0437\\u0430 \\u044D\\u0442\\u043E\\u0442 \\u0434\\u0435\\u043D\\u044C.\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-6 right-6 z-10\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('add'),className:\"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-full shadow-lg transition-transform transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})})]});}// --- КОМПОНЕНТ КАРТОЧКИ СТАТИСТИКИ ---\nfunction StatCard(_ref3){let{label,value,goal,unit,color}=_ref3;const percentage=goal>0?value/goal*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-4 rounded-xl shadow-md\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-2xl font-bold ${color}`,children:value}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:label}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"\\u0426\\u0435\\u043B\\u044C: \",goal,\" \",unit]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-700 rounded-full h-1.5 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-cyan-400 h-1.5 rounded-full\",style:{width:`${Math.min(percentage,100)}%`}})})]});}// --- КОМПОНЕНТ ЭЛЕМЕНТА СПИСКА ЕДЫ ---\nfunction FoodItem(_ref4){let{food,onDelete,onRepeat}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-4 rounded-lg flex items-center justify-between shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg capitalize\",children:food.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[food.grams,\" \\u0433 \\xB7 \",food.calories.toFixed(0),\" \\u043A\\u043A\\u0430\\u043B\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400\",children:\"\\u0411:\"}),\" \",food.proteins.toFixed(1),\" \\u0433\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400\",children:\"\\u0416:\"}),\" \",food.fats.toFixed(1),\" \\u0433\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-400\",children:\"\\u0423:\"}),\" \",food.carbs.toFixed(1),\" \\u0433\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onRepeat,className:\"p-2 rounded-full text-gray-500 hover:text-cyan-400 hover:bg-gray-700 transition-colors\",title:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u0441\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,className:\"p-2 rounded-full text-gray-500 hover:text-red-500 hover:bg-gray-700 transition-colors\",title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5\"})})]})]});}// --- КОМПОНЕНТ СТРАНИЦЫ НАСТРОЕК ---\nfunction SettingsPage(_ref5){let{navigate,userId}=_ref5;const[goals,setGoals]=useState({proteins:200,fats:80,carbs:300,calories:2720});const goalsDocRef=useCallback(()=>{if(!userId)return null;return doc(db,`artifacts/${appId}/users/${userId}/settings`,'dailyGoals');},[userId]);useEffect(()=>{const ref=goalsDocRef();if(!ref)return;getDoc(ref).then(docSnap=>{if(docSnap.exists()){setGoals(docSnap.data());}});},[goalsDocRef]);useEffect(()=>{const{proteins,fats,carbs}=goals;const calculatedCalories=proteins*4+fats*9+carbs*4;setGoals(g=>({...g,calories:calculatedCalories}));},[goals.proteins,goals.fats,goals.carbs]);const handleChange=e=>{const{name,value}=e.target;setGoals(prev=>({...prev,[name]:Number(value)}));};const handleSave=async()=>{const ref=goalsDocRef();if(!ref)return;try{await setDoc(ref,goals);navigate('main');}catch(error){console.error(\"Ошибка сохранения настроек:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('main'),className:\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors mr-4\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-cyan-400\",children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-gray-900/50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0435\\u0442\\u043D\\u0430\\u044F \\u0446\\u0435\\u043B\\u044C \\u043F\\u043E \\u043A\\u0430\\u043B\\u043E\\u0440\\u0438\\u044F\\u043C\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-400\",children:[goals.calories.toFixed(0),\" \\u043A\\u043A\\u0430\\u043B\"]})]}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0426\\u0435\\u043B\\u044C \\u043F\\u043E \\u0431\\u0435\\u043B\\u043A\\u0430\\u043C (\\u0433)\",name:\"proteins\",value:goals.proteins,onChange:handleChange,min:\"0\",max:\"400\",step:\"1\"}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0426\\u0435\\u043B\\u044C \\u043F\\u043E \\u0436\\u0438\\u0440\\u0430\\u043C (\\u0433)\",name:\"fats\",value:goals.fats,onChange:handleChange,min:\"0\",max:\"300\",step:\"1\"}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0426\\u0435\\u043B\\u044C \\u043F\\u043E \\u0443\\u0433\\u043B\\u0435\\u0432\\u043E\\u0434\\u0430\\u043C (\\u0433)\",name:\"carbs\",value:goals.carbs,onChange:handleChange,min:\"0\",max:\"600\",step:\"1\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"flex items-center justify-center gap-2 w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-lg shadow-lg transition-transform transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]});}// --- КОМПОНЕНТ СЛАЙДЕРА ---\nfunction SliderGroup(_ref6){let{label,name,value,onChange,min,max,step}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:name,className:\"text-sm font-medium text-gray-300\",children:label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold text-cyan-400\",children:value})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:name,name:name,value:value,onChange:onChange,min:min,max:max,step:step,className:\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-thumb\"})]});}// --- КОМПОНЕНТ СТРАНИЦЫ ДОБАВЛЕНИЯ ЕДЫ ---\nfunction AddFoodPage(_ref7){let{navigate,userId,selectedDate}=_ref7;const[name,setName]=useState('');const[grams,setGrams]=useState(100);const[proteins100,setProteins100]=useState(20);const[fats100,setFats100]=useState(5);const[carbs100,setCarbs100]=useState(0);const handleSave=async()=>{if(!userId||!name||grams<=0){console.warn(\"Пожалуйста, заполните название и вес продукта.\");return;}const multiplier=grams/100;const finalProteins=proteins100*multiplier;const finalFats=fats100*multiplier;const finalCarbs=carbs100*multiplier;const finalCalories=finalProteins*4+finalFats*9+finalCarbs*4;const foodData={name:name.toLowerCase(),grams:Number(grams),proteins:finalProteins,fats:finalFats,carbs:finalCarbs,calories:finalCalories,date:selectedDate.toISOString().split('T')[0],createdAt:new Date()// Добавляем временную метку\n};try{await addDoc(collection(db,`artifacts/${appId}/users/${userId}/foods`),foodData);navigate('main');}catch(error){console.error(\"Ошибка добавления еды:\",error);}};const calculatedCalories=(proteins100*4+fats100*9+carbs100*4)*(grams/100);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('main'),className:\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors mr-4\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-cyan-400\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u0438\\u0435\\u043C \\u043F\\u0438\\u0449\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block mb-1 text-sm font-medium text-gray-300\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:e=>setName(e.target.value),className:\"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 transition\",placeholder:\"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440, \\u043A\\u0443\\u0440\\u0438\\u043D\\u0430\\u044F \\u0433\\u0440\\u0443\\u0434\\u043A\\u0430\"})]}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0412\\u0435\\u0441 (\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B)\",name:\"grams\",value:grams,onChange:e=>setGrams(Number(e.target.value)),min:\"0\",max:\"1000\",step:\"5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"\\u0411\\u0416\\u0423 \\u043D\\u0430 100 \\u0433\\u0440\\u0430\\u043C\\u043C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0411\\u0435\\u043B\\u043A\\u0438 (\\u0433)\",name:\"proteins100\",value:proteins100,onChange:e=>setProteins100(Number(e.target.value)),min:\"0\",max:\"100\",step:\"0.1\"}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0416\\u0438\\u0440\\u044B (\\u0433)\",name:\"fats100\",value:fats100,onChange:e=>setFats100(Number(e.target.value)),min:\"0\",max:\"100\",step:\"0.1\"}),/*#__PURE__*/_jsx(SliderGroup,{label:\"\\u0423\\u0433\\u043B\\u0435\\u0432\\u043E\\u0434\\u044B (\\u0433)\",name:\"carbs100\",value:carbs100,onChange:e=>setCarbs100(Number(e.target.value)),min:\"0\",max:\"100\",step:\"0.1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-gray-900/50 p-4 rounded-lg mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"\\u0418\\u0442\\u043E\\u0433\\u043E \\u043A\\u0430\\u043B\\u043E\\u0440\\u0438\\u0439\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-400\",children:[calculatedCalories.toFixed(0),\" \\u043A\\u043A\\u0430\\u043B\"]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"flex items-center justify-center gap-2 w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-lg shadow-lg transition-transform transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","signInWithCustomToken","getFirestore","doc","getDoc","setDoc","collection","query","where","onSnapshot","addDoc","deleteDoc","ChevronLeft","ChevronRight","Plus","Settings","Trash2","Save","ChevronDown","Copy","jsx","_jsx","jsxs","_jsxs","firebaseConfig","__firebase_config","JSON","parse","appId","__app_id","initialAuthToken","__initial_auth_token","app","auth","db","App","page","setPage","userId","setUserId","isAuthReady","setIsAuthReady","selectedDate","setSelectedDate","Date","unsubscribe","user","uid","error","console","navigate","pageName","className","children","MainPage","AddFoodPage","SettingsPage","Calendar","_ref","onDateChange","currentMonth","setCurrentMonth","getFullYear","getMonth","changeMonth","amount","prev","daysInMonth","getDate","firstDayOfMonth","getDay","days","Array","from","length","_","i","emptyDays","today","setHours","monthName","toLocaleString","month","year","onClick","map","day","date","isSelected","getTime","isToday","dayClass","_ref2","goals","setGoals","proteins","fats","carbs","calories","foods","setFoods","isCalendarOpen","setIsCalendarOpen","selectedDateString","toISOString","split","goalsDocRef","unsubscribeGoals","docSnap","exists","data","foodsCollectionRef","q","unsubscribeFoods","querySnapshot","foodsData","docs","_data$createdAt","id","createdAt","toDate","sort","a","b","totals","reduce","acc","food","deleteFood","foodId","repeatFood","foodToRepeat","newFoodEntry","name","grams","handleDateChange","titleDate","toLocaleDateString","StatCard","label","value","toFixed","goal","unit","color","FoodItem","onDelete","onRepeat","_ref3","percentage","style","width","Math","min","_ref4","title","_ref5","ref","then","calculatedCalories","g","handleChange","e","target","Number","handleSave","SliderGroup","onChange","max","step","_ref6","htmlFor","type","_ref7","setName","setGrams","proteins100","setProteins100","fats100","setFats100","carbs100","setCarbs100","warn","multiplier","finalProteins","finalFats","finalCarbs","finalCalories","foodData","toLowerCase","placeholder"],"sources":["H:/js_projects/bju-calories-tracker/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\r\nimport { getFirestore, doc, getDoc, setDoc, collection, query, where, onSnapshot, addDoc, deleteDoc } from 'firebase/firestore';\r\nimport { ChevronLeft, ChevronRight, Plus, Settings, Trash2, Save, ChevronDown, Copy } from 'lucide-react';\r\n\r\n// --- НАСТРОЙКИ FIREBASE ---\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-bju-app';\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\r\n\r\n// --- ИНИЦИАЛИЗАЦИЯ FIREBASE ---\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\n// --- ОСНОВНОЙ КОМПОНЕНТ ПРИЛОЖЕНИЯ ---\r\nexport default function App() {\r\n    const [page, setPage] = useState('main'); // 'main', 'add', 'settings'\r\n    const [userId, setUserId] = useState(null);\r\n    const [isAuthReady, setIsAuthReady] = useState(false);\r\n    const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            if (user) {\r\n                setUserId(user.uid);\r\n                setIsAuthReady(true);\r\n            } else {\r\n                try {\r\n                    if (initialAuthToken) {\r\n                        await signInWithCustomToken(auth, initialAuthToken);\r\n                    } else {\r\n                        await signInAnonymously(auth);\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Ошибка входа:\", error);\r\n                }\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const navigate = (pageName) => setPage(pageName);\r\n\r\n    if (!isAuthReady) {\r\n        return <div className=\"flex items-center justify-center h-screen bg-gray-900 text-white\">Загрузка...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-gray-900 min-h-screen text-white font-sans\">\r\n            <div className=\"container mx-auto max-w-lg p-4 pb-24\">\r\n                {page === 'main' && <MainPage navigate={navigate} userId={userId} selectedDate={selectedDate} setSelectedDate={setSelectedDate} />}\r\n                {page === 'add' && <AddFoodPage navigate={navigate} userId={userId} selectedDate={selectedDate} />}\r\n                {page === 'settings' && <SettingsPage navigate={navigate} userId={userId} />}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ КАЛЕНДАРЯ ---\r\nfunction Calendar({ selectedDate, onDateChange }) {\r\n    const [currentMonth, setCurrentMonth] = useState(new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1));\r\n\r\n    const changeMonth = (amount) => {\r\n        setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + amount, 1));\r\n    };\r\n\r\n    const daysInMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();\r\n    const firstDayOfMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1).getDay();\r\n    const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);\r\n    const emptyDays = Array.from({ length: (firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1) });\r\n\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n\r\n    const monthName = currentMonth.toLocaleString('ru-RU', { month: 'long', year: 'numeric' });\r\n\r\n    return (\r\n        <div className=\"bg-gray-800 p-4 rounded-lg shadow-md\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <button onClick={() => changeMonth(-1)} className=\"p-2 rounded-full hover:bg-gray-700\"><ChevronLeft /></button>\r\n                <h3 className=\"font-bold text-lg capitalize\">{monthName}</h3>\r\n                <button onClick={() => changeMonth(1)} className=\"p-2 rounded-full hover:bg-gray-700\"><ChevronRight /></button>\r\n            </div>\r\n            <div className=\"grid grid-cols-7 gap-1 text-center text-sm\">\r\n                {['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'].map(day => <div key={day} className=\"font-semibold text-gray-400\">{day}</div>)}\r\n                {emptyDays.map((_, i) => <div key={`empty-${i}`}></div>)}\r\n                {days.map(day => {\r\n                    const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);\r\n                    const isSelected = selectedDate.getTime() === date.getTime();\r\n                    const isToday = today.getTime() === date.getTime();\r\n\r\n                    let dayClass = \"w-9 h-9 flex items-center justify-center rounded-full cursor-pointer transition-colors \";\r\n                    if (isSelected) {\r\n                        dayClass += \"bg-cyan-500 text-white font-bold\";\r\n                    } else if (isToday) {\r\n                        dayClass += \"bg-gray-700 text-cyan-400\";\r\n                    } else {\r\n                        dayClass += \"hover:bg-gray-700\";\r\n                    }\r\n\r\n                    return (\r\n                        <div key={day} className={dayClass} onClick={() => onDateChange(date)}>\r\n                            {day}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ ГЛАВНОЙ СТРАНИЦЫ ---\r\nfunction MainPage({ navigate, userId, selectedDate, setSelectedDate }) {\r\n    const [goals, setGoals] = useState({ proteins: 200, fats: 80, carbs: 300, calories: 2720 });\r\n    const [foods, setFoods] = useState([]);\r\n    const [isCalendarOpen, setIsCalendarOpen] = useState(false);\r\n\r\n    const selectedDateString = selectedDate.toISOString().split('T')[0];\r\n\r\n    useEffect(() => {\r\n        if (!userId) return;\r\n        const goalsDocRef = doc(db, `artifacts/${appId}/users/${userId}/settings`, 'dailyGoals');\r\n        const unsubscribeGoals = onSnapshot(goalsDocRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                setGoals(docSnap.data());\r\n            }\r\n        });\r\n\r\n        const foodsCollectionRef = collection(db, `artifacts/${appId}/users/${userId}/foods`);\r\n        const q = query(foodsCollectionRef, where(\"date\", \"==\", selectedDateString));\r\n        const unsubscribeFoods = onSnapshot(q, (querySnapshot) => {\r\n            const foodsData = querySnapshot.docs.map(doc => {\r\n                const data = doc.data();\r\n                return {\r\n                    id: doc.id,\r\n                    ...data,\r\n                    // Конвертируем временную метку Firestore в объект Date\r\n                    createdAt: data.createdAt?.toDate ? data.createdAt.toDate() : new Date(0)\r\n                };\r\n            });\r\n            // Сортируем по дате создания в обратном порядке (новые сверху)\r\n            foodsData.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\r\n            setFoods(foodsData);\r\n        });\r\n\r\n        return () => {\r\n            unsubscribeGoals();\r\n            unsubscribeFoods();\r\n        };\r\n    }, [userId, selectedDateString]);\r\n\r\n    const totals = foods.reduce((acc, food) => {\r\n        acc.proteins += food.proteins;\r\n        acc.fats += food.fats;\r\n        acc.carbs += food.carbs;\r\n        acc.calories += food.calories;\r\n        return acc;\r\n    }, { proteins: 0, fats: 0, carbs: 0, calories: 0 });\r\n\r\n    const deleteFood = async (foodId) => {\r\n        if (!userId) return;\r\n        try {\r\n            await deleteDoc(doc(db, `artifacts/${appId}/users/${userId}/foods`, foodId));\r\n        } catch (error) {\r\n            console.error(\"Ошибка удаления:\", error);\r\n        }\r\n    };\r\n\r\n    const repeatFood = async (foodToRepeat) => {\r\n        if (!userId) return;\r\n        const newFoodEntry = {\r\n            name: foodToRepeat.name,\r\n            grams: foodToRepeat.grams,\r\n            proteins: foodToRepeat.proteins,\r\n            fats: foodToRepeat.fats,\r\n            carbs: foodToRepeat.carbs,\r\n            calories: foodToRepeat.calories,\r\n            date: new Date().toISOString().split('T')[0], // Всегда добавляем на сегодня\r\n            createdAt: new Date() // Добавляем временную метку\r\n        };\r\n        try {\r\n            await addDoc(collection(db, `artifacts/${appId}/users/${userId}/foods`), newFoodEntry);\r\n        } catch (error) {\r\n            console.error(\"Ошибка повторения записи:\", error);\r\n        }\r\n    };\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(new Date(date.setHours(0, 0, 0, 0)));\r\n        setIsCalendarOpen(false);\r\n    }\r\n\r\n    const titleDate = selectedDate.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' });\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <header className=\"flex justify-between items-center\">\r\n                <button onClick={() => setIsCalendarOpen(!isCalendarOpen)} className=\"flex items-center gap-2 text-xl md:text-2xl font-bold text-cyan-400 hover:text-cyan-300 transition-colors text-left\">\r\n                    <span>{titleDate}</span>\r\n                    <ChevronDown className={`w-6 h-6 transition-transform ${isCalendarOpen ? 'rotate-180' : ''}`} />\r\n                </button>\r\n                <button onClick={() => navigate('settings')} className=\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors\">\r\n                    <Settings className=\"w-6 h-6\" />\r\n                </button>\r\n            </header>\r\n\r\n            {isCalendarOpen && <Calendar selectedDate={selectedDate} onDateChange={handleDateChange} />}\r\n\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                <StatCard label=\"Калории\" value={totals.calories.toFixed(0)} goal={goals.calories} unit=\"ккал\" color=\"text-yellow-400\" />\r\n                <StatCard label=\"Белки\" value={totals.proteins.toFixed(0)} goal={goals.proteins} unit=\"г\" color=\"text-red-400\" />\r\n                <StatCard label=\"Жиры\" value={totals.fats.toFixed(0)} goal={goals.fats} unit=\"г\" color=\"text-green-400\" />\r\n                <StatCard label=\"Углеводы\" value={totals.carbs.toFixed(0)} goal={goals.carbs} unit=\"г\" color=\"text-blue-400\" />\r\n            </div>\r\n            <div>\r\n                <h2 className=\"text-2xl font-semibold mb-4\">Приемы пищи</h2>\r\n                <div className=\"space-y-3\">\r\n                    {foods.length > 0 ? (\r\n                        foods.map(food => <FoodItem key={food.id} food={food} onDelete={() => deleteFood(food.id)} onRepeat={() => repeatFood(food)} />)\r\n                    ) : (\r\n                        <p className=\"text-gray-400 text-center py-8\">Нет записей за этот день.</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed bottom-6 right-6 z-10\">\r\n                <button onClick={() => navigate('add')} className=\"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-full shadow-lg transition-transform transform hover:scale-105\">\r\n                    <Plus className=\"w-6 h-6\" />\r\n                    <span>Добавить</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ КАРТОЧКИ СТАТИСТИКИ ---\r\nfunction StatCard({ label, value, goal, unit, color }) {\r\n    const percentage = goal > 0 ? (value / goal) * 100 : 0;\r\n    return (\r\n        <div className=\"bg-gray-800 p-4 rounded-xl shadow-md\">\r\n            <p className={`text-2xl font-bold ${color}`}>{value}</p>\r\n            <p className=\"text-sm text-gray-400\">{label}</p>\r\n            <p className=\"text-xs text-gray-500\">Цель: {goal} {unit}</p>\r\n            <div className=\"w-full bg-gray-700 rounded-full h-1.5 mt-2\">\r\n                <div className=\"bg-cyan-400 h-1.5 rounded-full\" style={{ width: `${Math.min(percentage, 100)}%` }}></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ ЭЛЕМЕНТА СПИСКА ЕДЫ ---\r\nfunction FoodItem({ food, onDelete, onRepeat }) {\r\n    return (\r\n        <div className=\"bg-gray-800 p-4 rounded-lg flex items-center justify-between shadow\">\r\n            <div>\r\n                <h3 className=\"font-bold text-lg capitalize\">{food.name}</h3>\r\n                <p className=\"text-sm text-gray-400\">{food.grams} г · {food.calories.toFixed(0)} ккал</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n                <div className=\"text-right text-sm\">\r\n                    <p><span className=\"text-red-400\">Б:</span> {food.proteins.toFixed(1)} г</p>\r\n                    <p><span className=\"text-green-400\">Ж:</span> {food.fats.toFixed(1)} г</p>\r\n                    <p><span className=\"text-blue-400\">У:</span> {food.carbs.toFixed(1)} г</p>\r\n                </div>\r\n                <button onClick={onRepeat} className=\"p-2 rounded-full text-gray-500 hover:text-cyan-400 hover:bg-gray-700 transition-colors\" title=\"Повторить сегодня\">\r\n                    <Copy className=\"w-5 h-5\" />\r\n                </button>\r\n                <button onClick={onDelete} className=\"p-2 rounded-full text-gray-500 hover:text-red-500 hover:bg-gray-700 transition-colors\" title=\"Удалить\">\r\n                    <Trash2 className=\"w-5 h-5\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ СТРАНИЦЫ НАСТРОЕК ---\r\nfunction SettingsPage({ navigate, userId }) {\r\n    const [goals, setGoals] = useState({ proteins: 200, fats: 80, carbs: 300, calories: 2720 });\r\n\r\n    const goalsDocRef = useCallback(() => {\r\n        if (!userId) return null;\r\n        return doc(db, `artifacts/${appId}/users/${userId}/settings`, 'dailyGoals');\r\n    }, [userId]);\r\n\r\n    useEffect(() => {\r\n        const ref = goalsDocRef();\r\n        if (!ref) return;\r\n        getDoc(ref).then(docSnap => {\r\n            if (docSnap.exists()) {\r\n                setGoals(docSnap.data());\r\n            }\r\n        });\r\n    }, [goalsDocRef]);\r\n\r\n    useEffect(() => {\r\n        const { proteins, fats, carbs } = goals;\r\n        const calculatedCalories = (proteins * 4) + (fats * 9) + (carbs * 4);\r\n        setGoals(g => ({ ...g, calories: calculatedCalories }));\r\n    }, [goals.proteins, goals.fats, goals.carbs]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setGoals(prev => ({ ...prev, [name]: Number(value) }));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        const ref = goalsDocRef();\r\n        if (!ref) return;\r\n        try {\r\n            await setDoc(ref, goals);\r\n            navigate('main');\r\n        } catch (error) {\r\n            console.error(\"Ошибка сохранения настроек:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <header className=\"flex items-center\">\r\n                <button onClick={() => navigate('main')} className=\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors mr-4\">\r\n                    <ChevronLeft className=\"w-6 h-6\" />\r\n                </button>\r\n                <h1 className=\"text-3xl font-bold text-cyan-400\">Настройки</h1>\r\n            </header>\r\n            <div className=\"space-y-6 bg-gray-800 p-6 rounded-lg\">\r\n                <div className=\"text-center bg-gray-900/50 p-4 rounded-lg\">\r\n                    <p className=\"text-sm text-gray-400\">Расчетная цель по калориям</p>\r\n                    <p className=\"text-3xl font-bold text-yellow-400\">{goals.calories.toFixed(0)} ккал</p>\r\n                </div>\r\n                <SliderGroup label=\"Цель по белкам (г)\" name=\"proteins\" value={goals.proteins} onChange={handleChange} min=\"0\" max=\"400\" step=\"1\" />\r\n                <SliderGroup label=\"Цель по жирам (г)\" name=\"fats\" value={goals.fats} onChange={handleChange} min=\"0\" max=\"300\" step=\"1\" />\r\n                <SliderGroup label=\"Цель по углеводам (г)\" name=\"carbs\" value={goals.carbs} onChange={handleChange} min=\"0\" max=\"600\" step=\"1\" />\r\n            </div>\r\n            <button onClick={handleSave} className=\"flex items-center justify-center gap-2 w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-lg shadow-lg transition-transform transform hover:scale-105\">\r\n                <Save className=\"w-5 h-5\" />\r\n                <span>Сохранить</span>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ СЛАЙДЕРА ---\r\nfunction SliderGroup({ label, name, value, onChange, min, max, step }) {\r\n    return (\r\n        <div>\r\n            <div className=\"flex justify-between items-center mb-1\">\r\n                <label htmlFor={name} className=\"text-sm font-medium text-gray-300\">{label}</label>\r\n                <span className=\"text-sm font-bold text-cyan-400\">{value}</span>\r\n            </div>\r\n            <input\r\n                type=\"range\"\r\n                id={name}\r\n                name={name}\r\n                value={value}\r\n                onChange={onChange}\r\n                min={min}\r\n                max={max}\r\n                step={step}\r\n                className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-thumb\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- КОМПОНЕНТ СТРАНИЦЫ ДОБАВЛЕНИЯ ЕДЫ ---\r\nfunction AddFoodPage({ navigate, userId, selectedDate }) {\r\n    const [name, setName] = useState('');\r\n    const [grams, setGrams] = useState(100);\r\n    const [proteins100, setProteins100] = useState(20);\r\n    const [fats100, setFats100] = useState(5);\r\n    const [carbs100, setCarbs100] = useState(0);\r\n\r\n    const handleSave = async () => {\r\n        if (!userId || !name || grams <= 0) {\r\n            console.warn(\"Пожалуйста, заполните название и вес продукта.\");\r\n            return;\r\n        }\r\n\r\n        const multiplier = grams / 100;\r\n        const finalProteins = proteins100 * multiplier;\r\n        const finalFats = fats100 * multiplier;\r\n        const finalCarbs = carbs100 * multiplier;\r\n        const finalCalories = (finalProteins * 4) + (finalFats * 9) + (finalCarbs * 4);\r\n\r\n        const foodData = {\r\n            name: name.toLowerCase(),\r\n            grams: Number(grams),\r\n            proteins: finalProteins,\r\n            fats: finalFats,\r\n            carbs: finalCarbs,\r\n            calories: finalCalories,\r\n            date: selectedDate.toISOString().split('T')[0],\r\n            createdAt: new Date() // Добавляем временную метку\r\n        };\r\n\r\n        try {\r\n            await addDoc(collection(db, `artifacts/${appId}/users/${userId}/foods`), foodData);\r\n            navigate('main');\r\n        } catch (error) {\r\n            console.error(\"Ошибка добавления еды:\", error);\r\n        }\r\n    };\r\n\r\n    const calculatedCalories = ((proteins100 * 4) + (fats100 * 9) + (carbs100 * 4)) * (grams / 100);\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <header className=\"flex items-center\">\r\n                <button onClick={() => navigate('main')} className=\"p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors mr-4\">\r\n                    <ChevronLeft className=\"w-6 h-6\" />\r\n                </button>\r\n                <h1 className=\"text-3xl font-bold text-cyan-400\">Добавить прием пищи</h1>\r\n            </header>\r\n\r\n            <div className=\"space-y-6 bg-gray-800 p-6 rounded-lg\">\r\n                <div>\r\n                    <label htmlFor=\"name\" className=\"block mb-1 text-sm font-medium text-gray-300\">Название продукта</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        value={name}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        className=\"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 transition\"\r\n                        placeholder=\"Например, куриная грудка\"\r\n                    />\r\n                </div>\r\n\r\n                <SliderGroup label=\"Вес (граммы)\" name=\"grams\" value={grams} onChange={(e) => setGrams(Number(e.target.value))} min=\"0\" max=\"1000\" step=\"5\" />\r\n\r\n                <div className=\"pt-4 border-t border-gray-700\">\r\n                    <h3 className=\"text-lg font-semibold mb-2\">БЖУ на 100 грамм</h3>\r\n                    <div className=\"space-y-4\">\r\n                        <SliderGroup label=\"Белки (г)\" name=\"proteins100\" value={proteins100} onChange={(e) => setProteins100(Number(e.target.value))} min=\"0\" max=\"100\" step=\"0.1\" />\r\n                        <SliderGroup label=\"Жиры (г)\" name=\"fats100\" value={fats100} onChange={(e) => setFats100(Number(e.target.value))} min=\"0\" max=\"100\" step=\"0.1\" />\r\n                        <SliderGroup label=\"Углеводы (г)\" name=\"carbs100\" value={carbs100} onChange={(e) => setCarbs100(Number(e.target.value))} min=\"0\" max=\"100\" step=\"0.1\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-center bg-gray-900/50 p-4 rounded-lg mt-4\">\r\n                    <p className=\"text-sm text-gray-400\">Итого калорий</p>\r\n                    <p className=\"text-3xl font-bold text-yellow-400\">{calculatedCalories.toFixed(0)} ккал</p>\r\n                </div>\r\n            </div>\r\n\r\n            <button onClick={handleSave} className=\"flex items-center justify-center gap-2 w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-5 rounded-lg shadow-lg transition-transform transform hover:scale-105\">\r\n                <Save className=\"w-5 h-5\" />\r\n                <span>Сохранить</span>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}